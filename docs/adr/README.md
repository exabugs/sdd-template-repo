# Architecture Decision Records (ADR)

このディレクトリは、本プロジェクトにおける  
**アーキテクチャ上の重要な意思決定（ADR）**を記録する場所である。

ADR は「なぜその判断をしたのか」を将来に残すためのものであり、  
仕様（spec/）やコードの代替ではない。

---

## ADR とは何か

ADR（Architecture Decision Record）とは、  
アーキテクチャに関する **重要な意思決定を 1 件につき 1 ファイル**で記録する文書である。

- 「正解だったか」を記録するものではない
- **その時点での判断と理由**を残すことが目的

---

## いつ ADR を書くか

以下のような場合は、ADR を作成する。

- 複数の選択肢から 1 つを選んだとき
- トレードオフを受け入れる判断をしたとき
- 将来の制約や負債を意図的に選択したとき
- 設計方針・データモデル・公開インターフェースを変更したとき

※ 小さな実装判断やリファクタリングのみの場合は不要。

---

## ファイル命名規則

- 形式：`NNNN-title-in-kebab-case.md`
- 例：
  - `0001-adopt-sdd-style.md`
  - `0002-use-single-table-design.md`

番号は **連番**とし、既存 ADR は並び替えない。

---

## ADR の書式（最小構成）

各 ADR は、以下の 5 セクションで構成する。

```md
# Title

## Status
Proposed | Accepted | Superseded

## Context
（なぜこの判断が必要だったか）

## Decision
（何を決定したか）

## Consequences
（この決定による影響・トレードオフ）
```

- 書式は厳密である必要はない
- 重要なのは「判断と理由が読み取れること」

---

## 変更・廃止の扱い

- **既存 ADR は上書きしない**
- 判断が変わった場合は、新しい ADR を作成する
- 古い ADR の Status を `Superseded` に変更する

---

## 優先順位

ADR は「履歴」であり、**現在の仕様は spec/ を正とする**。

- spec/ と ADR が矛盾する場合 → spec が正
- ADR は「なぜそうなったか」を理解するために参照する
